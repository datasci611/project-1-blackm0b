---
  title: "BIOS 611 HW1 Data visualisation (Chapter 3)"
  author: "Matthew J Rich"
  date: "`r format(Sys.time(), '%m/%d/%Y')`"
  output: html_document
---
  *This homework is due September 5th 6pm.*
  
  (This set of exercise is mostly taken from R for Data Science by Garrett Grolemund and Hadley Wickham.)

# Exercise 1

1.  What's gone wrong with this code? Why are the points not blue?

    ```{r}
    library(ggplot2)
    ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
    ```
    
    Answer: plot is not blue because manual asctetics must be defined outside AES()

    ```{r}
      library(ggplot2)
       ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy), color = "blue")
    ```

2.  Which variables in `mpg` are categorical? Which variables are continuous? 
    (Hint: type `?mpg` to read the documentation for the dataset). How
    can you see this information when you run `mpg`?

    Answer: only one column contains real numbers so that is the only continuous data out of the 11 variables present

    ```{r}
      library(ggplot2)
       df = mpg
        head(df)
    ```

3.  Map a continuous variable to `color`, `size`, and `shape`. How do
    these aesthetics behave differently for categorical vs. continuous
    variables? 
    
    Answer: Only color and size can be mapped to a continuous variable. All three can only handle a few different values before being unable to map. 

    ```{r}
  
    ```

4.  What happens if you map the same variable to multiple aesthetics? 

    Answer: you will generate two legends one for each mapping 

    ```{r}
      library(ggplot2)
      ggplot(data=mpg) +
      geom_point(mapping = aes(x = hwy, y = cty, color = displ, size = displ))
    ```

5.  What does the `stroke` aesthetic do? What shapes does it work with?
    (Hint: use `?geom_point`)
    
    Answer: For geom plot the stroke can control the border thickness of a markers if one is present. If the marker does not have a border it functions like size. 

    ```{r}
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy, color = cyl), stroke = 3, shape = 21)
    ```

6.  What happens if you map an aesthetic to something other than a variable 
    name, like `aes(colour = displ < 5)`?  

    Answer: The mapping will behave as an conditional formatting rule mapping based on which data points cause the expression to be true or falce

    ```{r}
       ggplot(data = mpg) + 
       geom_point(mapping = aes(x = displ, y = hwy, colour = displ < 5))
    ```


# Exercise 2

1.  What do the empty cells in plot with `facet_grid(drv ~ cyl)` mean?
    How do they relate to this plot?
    
    ```{r, eval = FALSE}
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = drv, y = cyl))
    ```

    Answer: The empty facets represent non existent combinations of engine drive and cylindders. 

    ```{r}
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = drv, y = cyl)) +
      facet_grid(drv ~ cyl)
    ```

2.  What plots does the following code make? What does `.` do?

    ```{r eval = FALSE}
    ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) +
      facet_grid(drv ~ .)
    
    ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) +
      facet_grid(. ~ cyl)
    ```

    Answer: The first plot will be a scatter plot of displacement vs highway for each drive type. The second plot also outputs a scatter plot this time plotting each type of cylinder engine on each facet. The '.' allows for facet_wrap to only facet in respects to a single variable. 

    ```{r}
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) +
      facet_grid(. ~ cyl)
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) +
      facet_wrap( ~ cyl , nrow = 1)
    ```

3.  Take the first faceted plot in this section:

    ```{r, eval = FALSE}
    ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) + 
      facet_wrap(~ class, nrow = 2)
    ```
    
    What are the advantages to using faceting instead of the colour aesthetic?
    What are the disadvantages? How might the balance change if you had a 
    larger dataset?
    
    Answer: The advantage is that it is able to isolate a specific class of vehicle, helpful when you have a lot of data points with a great deal of overlap. The downside is understanding the relationship between facets will be harder since they will be plotted separately

    ```{r}
    ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy)) + 
      facet_wrap(~ class, nrow = 2)
      ggplot(data = mpg) + 
      geom_point(mapping = aes(x = displ, y = hwy, color = class)) 
    ```

# Exercise 3

1.  What geom would you use to draw a line chart? A boxplot? 
    A histogram? An area chart?

    Answer: A boxplot can be plotted iwth geom_boxplot, a area plot with geom_density(), a historgram with geom_bar and a line with geom_line().

    ```{r}

    ```

2.  Run this code in your head and predict what the output will look like.
    Then, run the code in R and check your predictions.
    
    ```{r, eval = FALSE}
    ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
      geom_point() + 
      geom_smooth(se = FALSE)
    ```

    Answer: The plot will be a scatter plot of displacment vs highway miles grouped by drive category. It will contain a scatter plot with best fit line of the data. *my prediction was correct but I did not anticipate the best fit line being plotted by group. 

    ```{r}
  ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) + 
      geom_point() + 
      geom_smooth(se = FALSE)
    ```

3.  What does `show.legend = FALSE` do?  What happens if you remove it?  
    Why do you think I used it earlier in the chapter?

    Answer: It prevents the legend from being displayed. IT was helpful when creating subplots as having a legend would waste a lot of space 

    ```{r}

    ```

4.  What does the `se` argument to `geom_smooth()` do?


    Answer: Takes away the confidence interval band away from graph. 

    ```{r}

    ```

5.  Will these two graphs look different? Why/why not?

    ```{r, eval = FALSE}
    ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
      geom_point() + 
      geom_smooth()
    
    ggplot() + 
      geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
      geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))
    ```

    Answer: They will be the same, the level at which is mapping is defined is lower for the 2nd example. 

    ```{r}

    ```

6.  Recreate the R code necessary to generate the following graphs.
    
    ![Smooth lines for each `drv`](`r "https://github.com/datasci611/datasci_src/blob/master/HW1P0306A.png?raw=true"`)
    
    
    Answer: 
    
    ```{r, echo=TRUE, eval=TRUE}
      library(ggplot2)
        ggplot(data = mpg, mapping = aes( x=displ, y=hwy, color=drv, linetype = drv)) + 
          geom_point() + 
          geom_smooth(color = 'blue', se = FALSE )
    ```


    ![A single smooth line, transparency by `year`](`r "https://github.com/datasci611/datasci_src/blob/master/HW1P0306B.png?raw=true"`)
    
    Answer: 
    
    ```{r, echo=TRUE, eval=TRUE}
      library(ggplot2)
        ggplot( data = mpg ) +
          geom_point( mapping = aes( x=displ, y=hwy,color = drv ,alpha = year )) + 
          geom_smooth( se = FALSE, mapping = aes( x=displ, y=hwy),color = 'blue')
    ```

    
    ![Layered dots and an additional text information](`r "https://github.com/datasci611/datasci_src/blob/master/HW1P0306C.png?raw=true"`)
    
    Adding texts was not covered in class, but give it a try!
    
    Answer: 
    
    ```{r, echo=TRUE, eval=TRUE}
      library(ggplot2)
        ggplot( data = mpg, mapping = aes( x=displ, y=hwy )) +
          geom_point(mapping = aes(color = drv),size = 2) + 
          geom_point(shape=21, color='white', size = 2, stroke = 2,show.legend = FALSE) +
          annotate("text", x = 3, y = 44, label = "Max hwy = 44")
    ```

# Exercise 4

1.  What is the default geom associated with `stat_summary()`? How could
    you rewrite the previous plot to use that geom function instead of the 
    stat function?

    Answer: The default gein fir stat_summary is geom histogram. You can override the default be specifying an alternative via 'geom = *something*

    ```{r}
      
    ```

2.  What does `geom_col()` do? How is it different to `geom_bar()`?

    Answer: Geom_col uses the stat identity to represent the height of the bars where geom_bar uses a proportion of the value to the overal size of the group to set the size. 

    ```{r}

    ```

3.  What variables does `stat_smooth()` compute? What parameters control
    its behaviour?

    Answer: plots a regression line of the data just like geom_smooth

    ```{r}

    ```

# Exercise 5

1.  What is the problem with this plot? How could you improve it?

    ```{r}
    ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + 
      geom_point()
    ```

    Answer: datapoints are being masked by the fact that they have the same value. Could be improved by adding jitter.

    ```{r}
    ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) + 
      geom_point(position = "jitter")
    ```

2.  What parameters to `geom_jitter()` control the amount of jittering?

    Answer: The amount of jitter can be controlled by the position argument.

    ```{r}

    ```

3.  Compare and contrast `geom_jitter()` with `geom_count()`.

    Answer: both are used to handle overlapping points. Geom_jitter adds noise to create artificial separation, Geom_count uses a different marker to denote overlap

    ```{r}

    ```

# Exercise 6

1.  Turn a stacked bar chart into a pie chart using `coord_polar()`.

    Answer: 

    ```{r}
      bar <- ggplot(data = diamonds) + 
        geom_bar( mapping = aes(x = cut, fill = cut), 
        show.legend = FALSE,
        width = 1 ) 
      bar + coord_polar()
    ```

2.  What does `labs()` do? Read the documentation.

    Answer: Allows for customization of axis legend and title elements of a plot. 

    ```{r}

    ```

3.  What does the plot below tell you about the relationship between city
    and highway mpg? Why is `coord_fixed()` important? What does 
    `geom_abline()` do?
    
    ```{r, fig.asp = 1, out.width = "50%"}
    ggplot(data = mpg, mapping = aes(x = cty, y = hwy)) +
      geom_point() + 
      geom_abline() +
      coord_fixed()
    ```

    Answer: *coord_fixed()* is important because R would try to scale the axis to have a plot with an aspect ratio of 1. This is misleading if one does not pay close enough attention to the units of the axis. Fixing the aspect ration allows the user to clearly see the that highway miles is higher than city at all points. *geom_abline* creates a straight reference line which can be imformative to put data into context. 

    ```{r}

    ```

